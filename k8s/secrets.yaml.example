# =============================================================================
# SECRET -- Sensitive Configuration
# =============================================================================
# Secrets are like ConfigMaps but for sensitive data (passwords, tokens, keys).
#
# KEY DIFFERENCES from ConfigMaps:
# - Secrets are base64-encoded in etcd (NOT encrypted by default -- enable
#   encryption at rest in production!)
# - Kubernetes restricts Secret access via RBAC
# - Secrets aren't printed in logs or kubectl describe output
#
# We use "stringData" (plain text) instead of "data" (base64) for readability.
# Kubernetes converts stringData to base64 automatically when applied.
#
# PRODUCTION NOTE: In production, use an external secret manager like:
# - AWS Secrets Manager + External Secrets Operator
# - HashiCorp Vault
# Never commit real credentials to version control.
#
# SETUP: Copy this file to k8s/secrets.yaml and fill in your values:
#   cp k8s/secrets.yaml.example k8s/secrets.yaml
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: rag-secrets
  namespace: pdf-rag-chatbot
  labels:
    project: pdf-rag-chatbot
# "Opaque" is the default Secret type -- it holds arbitrary key-value pairs.
# Other types exist for specific use cases (e.g., kubernetes.io/tls for TLS certs).
type: Opaque
stringData:
  # PostgreSQL credentials
  POSTGRES_USER: "ragchat"
  POSTGRES_PASSWORD: "changeme-in-production"    # CHANGE THIS before deploying!

  # Optional: HuggingFace token for downloading gated models.
  # Llama 3.1 requires accepting Meta's license on huggingface.co.
  # Uncomment and add your token if needed:
  # HF_TOKEN: "hf_your_token_here"
